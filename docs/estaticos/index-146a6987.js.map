{"version":3,"file":"index-146a6987.js","sources":["../../src/programa.ts"],"sourcesContent":["import './scss/estilos.scss';\n\nconst contenedorAnimaciones = document.getElementById('animaciones') as HTMLDivElement;\nconst lienzo = document.getElementById('lienzo') as HTMLCanvasElement;\nconst ctx = lienzo.getContext('2d') as CanvasRenderingContext2D;\nlet ancho = 0;\nlet alto = 0;\nlet cargando = true;\nlet imgActual: HTMLImageElement;\n\nconst cuadricula = {\n  ancho: 0,\n  alto: 0,\n  cols: 7,\n  rows: 5,\n  x: 0,\n  y: 0,\n  fotograma: { ancho: 0, alto: 0 },\n  centro: { x: 0, y: 0 },\n};\n\nconst animaciones = [\n  { nombre: 'Juanjo', fuente: 'calabaza.jpg', fondo: '#FFF', img: new Image() },\n  { nombre: 'Karol #1', fuente: 'Gatete.jpg', fondo: '#000', img: new Image() },\n  { nombre: 'Karol #2', fuente: 'Gateto.jpg', fondo: '#000', img: new Image() },\n  { nombre: 'Nelson', fuente: 'nelson.jpg', fondo: '#FFF', img: new Image() },\n];\n\nanimaciones.forEach((animacion) => {\n  cargando = true;\n  const boton = document.createElement('div');\n  boton.innerText = animacion.nombre;\n  boton.className = 'animacion';\n\n  boton.onclick = () => {\n    const activo = contenedorAnimaciones.querySelector<HTMLDivElement>('.activo');\n\n    if (activo) {\n      activo.classList.remove('activo');\n    }\n\n    boton.classList.add('activo');\n\n    animacion.img.onload = inicio;\n    animacion.img.src = animacion.fuente;\n    document.body.style.backgroundColor = animacion.fondo;\n    imgActual = animacion.img;\n    cargando = false;\n  };\n\n  contenedorAnimaciones.appendChild(boton);\n});\n\nconst centro = { x: 0, y: 0 };\nconst fotograma = { ancho: 0, alto: 0 };\ncuadricula.x = 3;\ncuadricula.y = 2;\n\nfunction inicio() {\n  cuadricula.ancho = imgActual.naturalWidth;\n  cuadricula.alto = imgActual.naturalHeight;\n  cuadricula.fotograma.ancho = (cuadricula.ancho / cuadricula.cols) | 0;\n  cuadricula.fotograma.alto = (cuadricula.alto / cuadricula.rows) | 0;\n  cuadricula.centro.x = (cuadricula.fotograma.ancho / 2) | 0;\n  cuadricula.centro.y = (cuadricula.fotograma.alto / 2) | 0;\n\n  escalar();\n}\n\nfunction escalar() {\n  lienzo.width = ancho = window.innerWidth;\n  lienzo.height = alto = window.innerHeight;\n  centro.x = (ancho / 2) | 0;\n  centro.y = (alto / 2) | 0;\n\n  fotograma.ancho = (ancho / cuadricula.cols) | 0;\n  fotograma.alto = (alto / cuadricula.rows) | 0;\n\n  pintar();\n}\n\nfunction pintar() {\n  ctx.drawImage(\n    imgActual, // image\n    cuadricula.x * cuadricula.fotograma.ancho,\n    cuadricula.y * cuadricula.fotograma.alto,\n    cuadricula.fotograma.ancho,\n    cuadricula.fotograma.alto,\n    centro.x - cuadricula.centro.x,\n    centro.y - cuadricula.centro.y,\n    cuadricula.fotograma.ancho,\n    cuadricula.fotograma.alto\n  );\n}\n\nlienzo.onmousemove = (event) => {\n  console.log('hey');\n  if (cargando) return;\n  cuadricula.x = ((event.clientX / ancho) * cuadricula.cols) | 0;\n  cuadricula.y = ((event.clientY / alto) * cuadricula.rows) | 0;\n\n  pintar();\n};\n\nwindow.onresize = escalar;\n"],"names":["contenedorAnimaciones","lienzo","ctx","ancho","alto","cargando","imgActual","cuadricula","animaciones","animacion","boton","activo","inicio","centro","escalar","pintar","event"],"mappings":"ssBAEA,MAAMA,EAAwB,SAAS,eAAe,aAAa,EAC7DC,EAAS,SAAS,eAAe,QAAQ,EACzCC,EAAMD,EAAO,WAAW,IAAI,EAClC,IAAIE,EAAQ,EACRC,EAAO,EACPC,EAAW,GACXC,EAEJ,MAAMC,EAAa,CACjB,MAAO,EACP,KAAM,EACN,KAAM,EACN,KAAM,EACN,EAAG,EACH,EAAG,EACH,UAAW,CAAE,MAAO,EAAG,KAAM,CAAE,EAC/B,OAAQ,CAAE,EAAG,EAAG,EAAG,CAAE,CACvB,EAEMC,EAAc,CAClB,CAAE,OAAQ,SAAU,OAAQ,eAAgB,MAAO,OAAQ,IAAK,IAAI,KAAQ,EAC5E,CAAE,OAAQ,WAAY,OAAQ,aAAc,MAAO,OAAQ,IAAK,IAAI,KAAQ,EAC5E,CAAE,OAAQ,WAAY,OAAQ,aAAc,MAAO,OAAQ,IAAK,IAAI,KAAQ,EAC5E,CAAE,OAAQ,SAAU,OAAQ,aAAc,MAAO,OAAQ,IAAK,IAAI,KAAQ,CAC5E,EAEAA,EAAY,QAASC,GAAc,CACtBJ,EAAA,GACL,MAAAK,EAAQ,SAAS,cAAc,KAAK,EAC1CA,EAAM,UAAYD,EAAU,OAC5BC,EAAM,UAAY,YAElBA,EAAM,QAAU,IAAM,CACd,MAAAC,EAASX,EAAsB,cAA8B,SAAS,EAExEW,GACKA,EAAA,UAAU,OAAO,QAAQ,EAG5BD,EAAA,UAAU,IAAI,QAAQ,EAE5BD,EAAU,IAAI,OAASG,EACbH,EAAA,IAAI,IAAMA,EAAU,OACrB,SAAA,KAAK,MAAM,gBAAkBA,EAAU,MAChDH,EAAYG,EAAU,IACXJ,EAAA,EAAA,EAGbL,EAAsB,YAAYU,CAAK,CACzC,CAAC,EAED,MAAMG,EAAS,CAAE,EAAG,EAAG,EAAG,CAAE,EAE5BN,EAAW,EAAI,EACfA,EAAW,EAAI,EAEf,SAASK,GAAS,CAChBL,EAAW,MAAQD,EAAU,aAC7BC,EAAW,KAAOD,EAAU,cAC5BC,EAAW,UAAU,MAASA,EAAW,MAAQA,EAAW,KAAQ,EACpEA,EAAW,UAAU,KAAQA,EAAW,KAAOA,EAAW,KAAQ,EAClEA,EAAW,OAAO,EAAKA,EAAW,UAAU,MAAQ,EAAK,EACzDA,EAAW,OAAO,EAAKA,EAAW,UAAU,KAAO,EAAK,EAEhDO,GACV,CAEA,SAASA,GAAU,CACVb,EAAA,MAAQE,EAAQ,OAAO,WACvBF,EAAA,OAASG,EAAO,OAAO,YACvBS,EAAA,EAAKV,EAAQ,EAAK,EAClBU,EAAA,EAAKT,EAAO,EAAK,EAKjBW,GACT,CAEA,SAASA,GAAS,CACZb,EAAA,UACFI,EACAC,EAAW,EAAIA,EAAW,UAAU,MACpCA,EAAW,EAAIA,EAAW,UAAU,KACpCA,EAAW,UAAU,MACrBA,EAAW,UAAU,KACrBM,EAAO,EAAIN,EAAW,OAAO,EAC7BM,EAAO,EAAIN,EAAW,OAAO,EAC7BA,EAAW,UAAU,MACrBA,EAAW,UAAU,IAAA,CAEzB,CAEAN,EAAO,YAAee,GAAU,CAC9B,QAAQ,IAAI,KAAK,EACb,CAAAX,IACJE,EAAW,EAAMS,EAAM,QAAUb,EAASI,EAAW,KAAQ,EAC7DA,EAAW,EAAMS,EAAM,QAAUZ,EAAQG,EAAW,KAAQ,EAErDQ,IACT,EAEA,OAAO,SAAWD"}